{
  "entities": {
    "AWSMSKCLUSTER": {
      "domain": "INFRA",
      "type": "AWSMSKCLUSTER",
      "goldenTags": [
        "aws.availabilityZone",
        "aws.accountId"
      ],
      "configuration": {
        "entityExpirationTime": "DAILY",
        "alertable": true
      },
      "goldenMetrics": [
        "activeControllers",
        "globalPartitions",
        "offlinePartitions"
      ]
    },
    "AWSMSKBROKER": {
      "domain": "INFRA",
      "type": "AWSMSKBROKER",
      "goldenTags": [
        "aws.availabilityZone",
        "aws.accountId"
      ],
      "configuration": {
        "entityExpirationTime": "DAILY",
        "alertable": true
      },
      "goldenMetrics": [
        "incomingMessagesPerSecond",
        "networkRxDropped",
        "networkTxDropped"
      ]
    },
    "AWSMSKTOPIC": {
      "domain": "INFRA",
      "type": "AWSMSKTOPIC",
      "configuration": {
        "entityExpirationTime": "DAILY",
        "alertable": true
      },
      "goldenMetrics": []
    }
  },
  "relationships": {
    "INFRA-AWSMSKCLUSTER-to-INFRA-AWSMSKBROKER": {
      "relationshipType": "CONTAINS",
      "source": {
        "domain": "INFRA",
        "type": "AWSMSKCLUSTER"
      },
      "target": {
        "domain": "INFRA",
        "type": "AWSMSKBROKER"
      },
      "fields": [
        "awsAccountId",
        "awsRegion",
        "awsMskClusterName"
      ]
    },
    "INFRA-AWSMSKBROKER-to-INFRA-AWSMSKTOPIC": {
      "relationshipType": "MANAGES",
      "source": {
        "domain": "INFRA",
        "type": "AWSMSKBROKER"
      },
      "target": {
        "domain": "INFRA",
        "type": "AWSMSKTOPIC"
      },
      "collector": "cloudwatch-metric-streams",
      "fields": [
        "awsAccountId",
        "awsRegion",
        "awsMskClusterName",
        "awsMskBrokerId"
      ]
    },
    "INFRA-AWSMSKCLUSTER-to-INFRA-AWSS3BUCKET": {
      "relationshipType": "CONSUMES",
      "source": {
        "domain": "INFRA",
        "type": "AWSMSKCLUSTER"
      },
      "target": {
        "domain": "INFRA",
        "type": "AWSS3BUCKET"
      },
      "field": "bucketName",
      "sourceField": "aws.msk.loggingBucket"
    }
  }
}