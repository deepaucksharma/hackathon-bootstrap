healthScore:
  title: Health Score
  unit: PERCENTAGE
  queries:
    - select: latest(cluster.health.score)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid

totalThroughput:
  title: Total Throughput
  unit: BYTES_PER_SECOND
  queries:
    - select: sum(cluster.throughput.total)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid

availability:
  title: Availability
  unit: PERCENTAGE
  queries:
    - select: average(cluster.availability)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid

brokerCount:
  title: Active Brokers
  unit: COUNT
  queries:
    - select: latest(cluster.brokerCount)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid

topicCount:
  title: Total Topics
  unit: COUNT
  queries:
    - select: latest(cluster.topicCount)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid

partitionCount:
  title: Total Partitions
  unit: COUNT
  queries:
    - select: latest(cluster.totalPartitions)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid

underReplicatedPartitions:
  title: Under-Replicated Partitions
  unit: COUNT
  queries:
    - select: latest(cluster.underReplicatedPartitions)
      from: MessageQueue
      where: "entity.type = 'MESSAGE_QUEUE_CLUSTER'"
      facet: entity.name
      eventId: entity.guid